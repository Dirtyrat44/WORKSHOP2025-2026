:root{
    --accent: var(--button, #6EE7D3);
    --text: var(--text-primary, #e7f0ee);
    --muted: var(--text-secondary, #b8d6d1);
    --panel: rgba(255,255,255,0.06);
    --panel-border: rgba(255,255,255,0.09);
    --shadow: 0 12px 30px rgba(0,0,0,0.35);
  }


.messaging {
    height: 100vh;          /* occupe tout l'écran */
    overflow: hidden;       /* empêche le scroll global */
}

.layout {
    height: 100%;
    display: grid;
    grid-template-columns: 300px 1fr;
}

.sidebar {
    overflow-y: auto;       /* scroll uniquement pour la liste de contacts */
}

.chat {
    display: flex;
    flex-direction: column;
    height: 100%;
}

.thread {
    flex: 1;
    display: flex;
    flex-direction: column;
}

.messages {
    flex: 1;
    overflow-y: auto;       /* scroll uniquement pour les messages */
}



.search{
    position: relative;
    margin-bottom: 14px;
  }
  .search .glyph{
    position: absolute; left: 12px; top: 50%; transform: translateY(-50%);
    opacity: .9;
  }
  .search input{
    width: 80%;
    height: 38px;
    padding: 0 12px 0 36px;
    border-radius: 10px;
    border: 1px solid var(--panel-border);
    background: rgba(255,255,255,.06);
    color: var(--text);
    outline: none;
  }
  .search input::placeholder{ color: rgba(255,255,255,.45); }

  .contacts{
    list-style: none; margin: 0; padding: 6px 0 0;
    display: grid; gap: 8px;
  }
  .contact{
    display: grid;
    grid-template-columns: 40px 1fr;
    align-items: center;
    gap: 10px;
    padding: 10px 8px;
    border-radius: 12px;
    cursor: pointer;
  }
  .contact-link {
  display: flex;
  gap: 10px;
  align-items: center;
  padding: 8px;
  text-decoration: none;
  color: inherit;
  }
  .contact:hover{ background: rgba(255,255,255,.04); }
  .contact.is-active{ background: rgba(255,255,255,.06); border: 1px solid var(--panel-border); }

  .avatar{
    width: 60px; height: 60px;
    border-radius: 50%;
    place-items: center;
    background: rgba(255,255,255,.06);
    color: var(--accent);
    font-weight: 800;
    border: 1px solid rgba(255,255,255,.08);
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;

  }


  .meta .name{
    color: var(--text);
    font-weight: 700;
    font-size: 1rem;
  }
  .meta .status{ color: var(--muted); font-size: .9rem; }

  .dot{
    display: inline-block;
    width: 8px; height: 8px; border-radius: 999px;
    margin-left: 6px;
    vertical-align: middle;
    background: var(--button, #6EE7D3);
  }
  .dot.idle{ background: #b2b2b2; }
  .dot.offline{ background: #555; }

  .chat{
    position: relative;
    background: #0f1314;
    overflow: hidden;
  }

  .empty{
    position: absolute; inset: 0;
    display: grid; place-content: center; place-items: center;
    gap: 10px; text-align: center;
  }
  .empty h3{
    margin: 6px 0 0; color: var(--accent);
  }
  .empty .muted{ color: var(--muted); }

  .circle{
    --d: 44px;
    width: var(--d); height: var(--d);
    border-radius: 50%;
    display: grid; place-items: center;
    background: rgba(255,255,255,.06);
    border: 1px solid var(--panel-border);
    color: var(--accent);
  }
  .circle::before{
    content:""; width: 20px; height: 20px; background: currentColor;
    -webkit-mask: var(--ico-mask) no-repeat center / contain;
            mask: var(--ico-mask) no-repeat center / contain;
  }

  .thread{ display: none; height: 100%; }

  .chat.has-thread .empty{ display: none; }
  .chat.has-thread .thread{ display: grid; grid-template-rows: 1fr auto; }

  .messages{
    overflow-y: auto;
    padding: 24px 24px 12px;
  }
  .message{
    max-width: min(62ch, 60%);
    margin: 0 0 18px;
  }
  .message .bubble{
    padding: 10px 14px;
    border-radius: 12px;
    line-height: 1.6;
    word-wrap: break-word;
    box-shadow: 0 6px 14px rgba(0,0,0,.25);
  }
  .message .time{
    margin-top: 4px; font-size: .85rem; color: rgba(255,255,255,.55);
  }



  .from-them .bubble{
    background: rgba(255,255,255,.08);
    color: var(--muted);
    border: 1px solid rgba(255,255,255,.09);
  }
  .from-them{ margin-left: 0; }

  .from-me{
    margin-left: auto;
    text-align: right;
  }
  .from-me .bubble{
    background: var(--accent);
    color: #053a34;
    border: 1px solid rgba(0,0,0,.35);
  }
  .time .seen{ margin-left: 6px; }

  .composer{
    display: grid; grid-template-columns: auto 1fr auto; align-items: center;
    gap: 12px;
    padding: 12px;
    background: rgba(255,255,255,.06);
    border-top: 1px solid var(--panel-border);
  }
/* Container du formulaire */
.composer {
    display: flex;
    align-items: center;
    padding: 10px;
    border-top: 1px solid #ddd;
    background: rgba(255,255,255,.06);
    gap: 8px;
}

/* Formulaire flex */
.composer-form {
    display: flex;
    flex: 1;
    align-items: center;
    gap: 8px;
}

/* Champ texte moderne */
.composer-input {
    flex: 1;
    padding: 12px 16px;
    border: none;
    border-radius: 25px;
    background: rgba(255,255,255,.06);
    font-size: 14px;
    outline: none;
    transition: background 0.2s;
    color:black ;
}

.composer-input:focus {
    background: var(--button, #6EE7D3);
}

/* Icônes outils (gauche) */
.tools {
    display: flex;
    gap: 6px;
}

.icon-btn {
    background: none;
    border: none;
    cursor: pointer;
    font-size: 18px;
    color: #555;
    transition: color 0.2s;
}

.icon-btn:hover {
    color: #007bff;
}

/* Bouton envoyer */
.send {
    background: #007bff;
    border: none;
    border-radius: 50%;
    width: 40px;
    height: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    color: var(--button, #6EE7D3);
    font-size: 16px;
    transition: background 0.2s, transform 0.1s;
}

.send:hover {
    background: #0056b3;
}

.send:active {
    transform: scale(0.95);
}



.tools{ display: inline-flex; gap: 10px; }
  .icon-btn{
    display: inline-grid; place-items: center;
    width: 28px; height: 28px; border-radius: 6px;
    border: 1px solid transparent; background: transparent;
    cursor: pointer;
  }
  .icon-btn:hover{ background: rgba(255,255,255,.06); border-color: rgba(255,255,255,.08); }

  .input{
    width: 100%; height: 44px;
    border-radius: 10px; border: 1px solid var(--panel-border);
    background: rgba(255,255,255,.02);
    color: var(--text);
    padding: 0 12px;
    outline: none;
  }
  .input::placeholder{ color: rgba(255,255,255,.45); }

  .send{
    width: 38px; height: 38px;
    border-radius: 999px;
    border: 1px solid rgba(0,0,0,.45);
    background: var(--accent);
    display: grid; place-items: center;
    box-shadow: 0 8px 18px rgba(110, 231, 211, .25);
    cursor: pointer;
  }
  .send:hover{ filter: brightness(1.06); }

  .glyph{
    display: inline-block;
    width: 18px; height: 18px;
    background: var(--accent);
    -webkit-mask: var(--ico-mask) no-repeat center / contain;
            mask: var(--ico-mask) no-repeat center / contain;
  }
  .sidebar .add-contact{
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
    width: 100%;
    height: 40px;
    border-radius: 9999px;
    text-decoration: none;
    font-weight: 700;
    letter-spacing: .02em;
    color: var(--btn-text, #0c1a20);
    background: linear-gradient(90deg, var(--button, #8ffbe9), var(--button-2, #9ce0d8));
    border: 1px solid var(--btn-border, rgba(0,0,0,.45));
    box-shadow: var(--btn-shadow, 0 10px 24px rgba(143,251,233,.15));
    margin-bottom: 12px;
    transition: filter .15s ease, transform .06s ease;
  }
  .sidebar .add-contact:hover{ filter: brightness(1.06); }
  .sidebar .add-contact:active{ transform: translateY(1px); }


  .sidebar .add-contact .glyph{
    background: currentColor;
    width: 16px; height: 16px;
  }


  .sidebar .search{ margin-top: 2px; }

  .i-search { --ico-mask: url("/img/search.svg"); }
  .i-camera { --ico-mask: url("/img/camera.svg"); }
  .i-image  { --ico-mask: url("/img/image.svg"); }
  .i-clip   { --ico-mask: url("/img/paperclip.svg"); }
  .i-send   { --ico-mask: url("/img/send.svg"); }
  .i-shield { --ico-mask: url("/img/shield.svg"); }
